var Datatable=function(){var t,e,n,r,u,s=!1,f={},i,o=function(){var i=$('tbody > tr > td:nth-child(1) input[type="checkbox"]:checked',n).size(),r=t.dataTable.language.metronicGroupActions;i>0?$(".table-group-actions > span",u).text(r.replace("_TOTAL_",i)):$(".table-group-actions > span",u).text("")};return{init:function(h){if($().dataTable){i=this;h=$.extend(!0,{src:"",filterApplyAction:"filter",filterCancelAction:"filter_cancel",resetGroupActionInputOnSuccess:!0,loadingMessage:"Loading...",dataTable:{dom:"<'row'<'col-md-8 col-sm-12'pli><'col-md-4 col-sm-12'<'table-group-actions pull-right'>>r><'table-responsive't><'row'<'col-md-8 col-sm-12'pli><'col-md-4 col-sm-12'>>",bStateSave:!0,lengthMenu:[[20,50,100,-1],[20,50,100,"All"]],pageLength:20,pagingType:"bootstrap_full_number",language:{aria:{sortAscending:": 以升序排列此列",sortDescending:": 以降序排列此列"},loadingRecords:"数据载入中...",emptyTable:"表中数据为空",info:"<span class='seperator'>|<\/span>第 _START_ 至 _END_ 项结果，共 _TOTAL_ 项",infoEmpty:"无数据",infoFiltered:"(由 _MAX_ 项过滤得到)",infoPostFix:"",infoThousands:",",lengthMenu:"<span class='seperator'>|<\/span>显示 _MENU_ 项结果",search:"搜索:",zeroRecords:"没有匹配结果",paging:{first:"首页",previous:"上页",next:"下页",last:"末页"},paginate:{previous:"上一页",next:"下一页",last:"尾页",first:"首页"}},orderCellsTop:!0,columnDefs:[{orderable:!1,targets:[0]}],pagingType:"bootstrap_extended",autoWidth:!1,processing:!1,serverSide:!0,ajax:{url:"",type:"POST",timeout:2e4,data:function(n){$.each(f,function(t,i){n[t]=i});App.blockUI({message:t.loadingMessage,target:r,overlayColor:"none",cenrerY:!0,boxed:!0})},dataSrc:function(f){return f.customActionMessage&&App.alert({type:f.customActionStatus=="OK"?"success":"danger",icon:f.customActionStatus=="OK"?"check":"warning",message:f.customActionMessage,container:u,place:"prepend"}),f.customActionStatus&&t.resetGroupActionInputOnSuccess&&$(".table-group-action-input",u).val(""),$(".group-checkable",n).size()===1&&$(".group-checkable",n).attr("checked",!1),t.onSuccess&&t.onSuccess.call(undefined,i,f),App.unblockUI(r),f.data},error:function(){t.onError&&t.onError.call(undefined,i);App.alert({type:"danger",icon:"warning",message:t.dataTable.language.metronicAjaxRequestGeneralError,container:u,place:"prepend"});App.unblockUI(r)}},drawCallback:function(){s===!1&&(s=!0,n.show());o();t.onDataLoad&&t.onDataLoad.call(undefined,i)}}},h);t=h;n=$(h.src);r=n.parents(".table-container");var c=$.fn.dataTableExt.oStdClasses;$.fn.dataTableExt.oStdClasses.sWrapper=$.fn.dataTableExt.oStdClasses.sWrapper+" dataTables_extended_wrapper";$.fn.dataTableExt.oStdClasses.sFilterInput="form-control input-xs input-sm input-inline";$.fn.dataTableExt.oStdClasses.sLengthSelect="form-control input-xs input-sm input-inline";e=n.DataTable(h.dataTable);$.fn.dataTableExt.oStdClasses.sWrapper=c.sWrapper;$.fn.dataTableExt.oStdClasses.sFilterInput=c.sFilterInput;$.fn.dataTableExt.oStdClasses.sLengthSelect=c.sLengthSelect;u=n.parents(".dataTables_wrapper");$(".table-actions-wrapper",r).size()===1&&($(".table-group-actions",u).html($(".table-actions-wrapper",r).html()),$(".table-actions-wrapper",r).remove());$(".group-checkable",n).change(function(){var t=n.find('tbody > tr > td:nth-child(1) input[type="checkbox"]'),i=$(this).prop("checked");$(t).each(function(){$(this).prop("checked",i)});o()});n.on("change",'tbody > tr > td:nth-child(1) input[type="checkbox"]',function(){o()});n.on("click",".filter-submit",function(n){n.preventDefault();i.submitFilter()});n.on("click",".filter-cancel",function(n){n.preventDefault();i.resetFilter()})}},submitFilter:function(){i.setAjaxParam("action",t.filterApplyAction);$('textarea.form-filter, select.form-filter, input.form-filter:not([type="radio"],[type="checkbox"])',n).each(function(){i.setAjaxParam($(this).attr("name"),$(this).val())});$('input.form-filter[type="checkbox"]:checked',n).each(function(){i.addAjaxParam($(this).attr("name"),$(this).val())});$('input.form-filter[type="radio"]:checked',n).each(function(){i.setAjaxParam($(this).attr("name"),$(this).val())});e.ajax.reload()},resetFilter:function(){$("textarea.form-filter, select.form-filter, input.form-filter",n).each(function(){$(this).val("")});$('input.form-filter[type="checkbox"]',n).each(function(){$(this).attr("checked",!1)});i.clearAjaxParams();i.addAjaxParam("action",t.filterCancelAction);e.ajax.reload()},getSelectedRowsCount:function(){return $('tbody > tr > td:nth-child(1) input[type="checkbox"]:checked',n).size()},getSelectedRows:function(){var t=[];return $('tbody > tr > td:nth-child(1) input[type="checkbox"]:checked',n).each(function(){t.push($(this).val())}),t},setAjaxParam:function(n,t){f[n]=t},addAjaxParam:function(n,t){f[n]||(f[n]=[]);skip=!1;for(var i=0;i<f[n].length;i++)f[n][i]===t&&(skip=!0);skip===!1&&f[n].push(t)},clearAjaxParams:function(){f={}},getDataTable:function(){return e},getTableWrapper:function(){return u},gettableContainer:function(){return r},getTable:function(){return n}}};$(function(){jQuery().dataTable&&$.extend($.fn.dataTable.defaults,{bStateSave:!0,lengthMenu:[[20,50,100,-1],[20,50,100,"All"]],pageLength:20,pagingType:"bootstrap_full_number",language:{aria:{sortAscending:": 以升序排列此列",sortDescending:": 以降序排列此列"},loadingRecords:"数据载入中...",emptyTable:"表中数据为空",info:"当前显示第 _START_ 至 _END_ 项结果，共 _TOTAL_ 项",infoEmpty:"无数据",infoFiltered:"(由 _MAX_ 项过滤得到)",infoPostFix:"",infoThousands:",",lengthMenu:"每页显示 _MENU_ 项",search:"搜索:",zeroRecords:"没有找到匹配结果",paging:{first:"首页",previous:"上页",next:"下页",last:"末页"},paginate:{previous:"上一页",next:"下一页",last:"尾页",first:"首页"}},columnDefs:[{orderable:!1,targets:[0]},{searchable:!1,targets:[0]}]})});